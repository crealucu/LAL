#########################################################
# set library name
#########################################################
OLIB = libLAL.a

#########################################################
# compiler
#########################################################
CXX = g++
#AR       = ar
#ARFLAGS = -rcs

#########################################################
# set path
#########################################################
DIR_TOP = $(PWD)/..
MKL_inc = $(MKLROOT)/include

INCs = -I$(DIR_TOP)/include \
	-I${MKL_inc}

CFLAGS = -Wall -O3 -g -std=c++11

#########################################################
# get objs
#########################################################
SRC = $(shell ls *.cc)
OBJ = $(SRC:.cc=.o)

#########################################################
# start compile
#########################################################

all: $(OBJ) $(OLIB)

%.o:%.cc
	$(CXX) $(CFLAGS) $(INCs) -c $<

$(OLIB): $(OBJ)
	$(AR) $(ARFLAGS) $(OLIB) $(OBJ)	
#	rm -rf $(OBJ)
	mv $(OLIB) ../lib

clean :
	rm -rf *.o
	
