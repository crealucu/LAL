include ../make.in

#########################################################
# set library name
#########################################################
OLIB = libLAL.a

#########################################################
# set path
#########################################################
DIR_TOP = $(PWD)/..
MKL_inc = $(MKLROOT)/include

INCs = -I$(DIR_TOP)/include -I${MKL_inc}

#########################################################
# get objs
#########################################################
SRC = $(shell ls *.cc)
OBJ = $(SRC:.cc=.o)

#########################################################
# start compile
#########################################################

all: $(OBJ) $(OLIB)

%.o:%.cc
	$(CXX) $(CFLAGS) $(INCs) -c $<

$(OLIB): $(OBJ)
	$(AR) $(ARFLAGS) $(OLIB) $(OBJ)	
	mv $(OLIB) ../lib

clean :
	rm -rf *.o ../lib/$(OLIB)
	
